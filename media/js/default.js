function $(s){return document.getElementById(s)}var req;var _prevIP='';function SearchIp(){ip=$("dn").value;if(_prevIP!=ip){req=new XMLHttpRequest();showReplyContainer(true);_prevIP=ip;req.onreadystatechange=searchIpCallback;req.open('GET','/ip/'+ip,true);req.send(null)}}function searchIpCallback(){var result="≤È—ØIP ß∞‹";try{if(req.readyState==4&&(req.status==200||req.status==304)){result=req.responseText;$('divResult').innerHTML=$("dn").value+'<br/><img src="/media/images/home.gif" align="absmiddle" border="0"/> '+result}}catch(e){result=e.description;$('divResult').innerHTML=result}}function trigger(){var isOk=checkIp($('dn').value);if(!isOk){showErr(true)}else{showErr(false);SearchIp()}}function keyDown(event){if(event.keyCode==13){trigger()}}function checkIp(ip){var ips=ip.split('.');var isOk=false;if(ips.length!=4){return false}for(i=0;i<ips.length;i++){if(ips[i]==''){return false}var intIp;intIp=ips[i]*1;if(isNaN(intIp)||intIp<0||intIp>255){return false}}return true}function showReplyContainer(visibility){if(visibility){$('divResult').innerHTML='<img src="/media/images/loading.gif" border="0"/> Searching...';$('replycontainer').style.visibility="visible";$('replycontainer').style.height="auto"}else{$('replycontainer').style.visibility="hidden";$('replycontainer').style.height="35px"}}function focusDomainBox(select){frm.dn.focus();if(select!=null&&select)frm.dn.select()}function showErr(visibility){if(visibility){$('dn').className="ipboxerr";$('err').style.visibility="visible";showReplyContainer(false)}else{$('dn').className="ipbox";$('err').style.visibility="hidden"}}function GetXMLNodeValue(strXML,nodeName){var Dom=new ActiveXObject("Microsoft.XMLDOM");Dom.async=false;Dom.loadXML(strXML);if(Dom.parseError.errorCode!=0){delete(Dom);return(false)}else{var node=Dom.documentElement.selectSingleNode("//"+nodeName);if(node)nodeValue=node.text;delete(Dom);return(nodeValue)}}